{"version":3,"sources":["state/action-types/action-types.ts","hooks/useTypedSelector.ts","assets/logos/01_RGB/02_PNG/Spotify_Logo_RGB_White.png","components/UI/Backdrop/Backdrop.tsx","components/UI/Spinner/Spinner.tsx","state/sagas/helper.js","state/reducers/uiReducer.ts","state/reducers/userDataReducer.ts","state/reducers/loginReducer.ts","state/reducers/errorReducer.ts","state/reducers/rootReducer.ts","state/api/test-api.ts","state/sagas/test-saga.js","state/sagas/index.ts","store.ts","api/apiConfig.ts","api/axios/axiosConfigs.ts","state/action-creators/login-action-creators.ts","state/action-creators/user-data-action-creators.ts","state/action-creators/ui-action-creators.ts","hooks/useActions.ts","utils/getParams.ts","utils/getInitials.ts","components/UI/Error/Error.tsx","components/UserTopData/UserTopData.tsx","assets/image-not-found.png","components/Main/Main.tsx","components/Layout/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Main/Main.module.css","components/Layout/Layout.module.css","components/UserTopData/UserTopData.module.css","App.module.css","components/UI/Backdrop/Backdrop.module.css","components/UI/Spinner/Spinner.module.css"],"names":["ActionType","ErrorTypes","useTypedSelector","useSelector","Backdrop","props","show","className","css","children","Spinner","id","Loader","createSagaAction","type","REQUEST","SUCCESS","FAILURE","constants","POST_TEST","PUT_TEST","GET_TEST","DELETE_TEST","initialState","loading","userTopData","userProfileInfo","display_name","images","userInputSelect","timeTerm","isLoggedIn","authCode","accessToken","refreshToken","expiresAt","Date","error","appReducer","combineReducers","login","state","action","USER_AUTHORIZED","payload","AUTH_CODE_OBTAINED","ACCESS_TOKEN_OBTAINED","access_token","refresh_token","expires_in","console","log","userData","USER_INPUT_SELECTED","USER_TOP_DATA_OBTAINED","USER_PROFILE_INFO_OBTAINED","ui","TOGGLE_LOADING","ERROR","_makeRequest","a","path","options","baseUrl","opts","getPayload","method","params","qs","stringify","addQueryPrefix","requestUrl","fetch","response","ok","Error","statusText","body","isJson","Object","prototype","toString","call","headers","extras","JSON","assign","POST","PUT","DELETE","GET","email","addTestExample","watchAddTestExample","getTest","watchGetTest","deleteTest","watchDeleteTest","updateTest","watchUpdateTest","rootSaga","api","put","message","takeLatest","all","fork","sagas","testSaga","map","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","serializedState","localStorage","getItem","parse","err","loadFromLocalStorage","store","createStore","undefined","applyMiddleware","thunk","subscribe","clear","setItem","saveToLocalStorage","getState","run","accessTokenReqData","set","refreshTokenReqData","TOKEN_ENDPOINT","REDIRECT_URI","API_URL","CLIENT_ID","scopes","loginUri","AUTH_ENDPOINT","encodeURIComponent","base64EncodedIdAndSecret","btoa","URLSearchParams","append","axiosGetTopArtistsConfig","axiosTokenReqConfig","userAuthorized","isAuthorized","dispatch","USER_LOGOUT","authCodeObtained","getAccessToken","axios","post","data","setHours","getHours","history","pushState","errorType","ERROR_AUTHENTICATION","getRefreshToken","getUserProfileInfo","get","ERROR_USER_PROFILE_INFO","getUserTopData","expiresIn","items","ERROR_USER_TOP_DATA","userInputSelected","testAction","toggleLoading","useLoginActions","useDispatch","bindActionCreators","loginActionCreators","getParams","url","code","parser","document","createElement","href","vars","search","substring","split","i","length","pair","decodeURIComponent","getInitials","stringName","fullName","shift","charAt","pop","toUpperCase","Fragment","UserTopData","GridList","cols","cellHeight","spacing","artist","index","artistImg","album","GridListTile","rows","ArtistImage","src","alt","name","GridListTileBar","title","titlePosition","actionPosition","TitleBar","useStyles","makeStyles","theme","createStyles","small","width","height","large","Main","useState","userDataActionCreators","useUserDataActions","classes","handleChange","e","inputChangedIs","target","value","useEffect","now","getTime","Avatar","UserImage","Button","variant","onClick","GroupDiv","htmlFor","Select","onChange","Layout","location","Container","Logo","logo","Anchor","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.13e62119.chunk.js","sourcesContent":["import { createSagaAction } from '../sagas/helper';\r\n\r\nexport enum ActionType {\r\n  //LOGIN\r\n  USER_AUTHORIZED = 'USER_AUTHORIZED',\r\n  USER_LOGOUT = 'USER_LOGOUT',\r\n  USER_PROFILE_INFO_OBTAINED = 'USER_PROFILE_INFO_OBTAINED',\r\n  AUTH_CODE_OBTAINED = 'AUTH_CODE_OBTAINED',\r\n  ACCESS_TOKEN_OBTAINED = 'ACCESS_TOKEN_OBTAINED',\r\n  REFRESH_TOKEN_OBTAINED = 'REFRESH_TOKEN_OBTAINED',\r\n\r\n  //USER DATA\r\n  USER_TOP_DATA_OBTAINED = 'USER_TOP_DATA_OBTAINED',\r\n  USER_INPUT_SELECTED = 'USER_INPUT_SELECTED',\r\n\r\n  //UI\r\n  TOGGLE_LOADING = 'TOGGLE_LOADING',\r\n\r\n  //ERRORS\r\n  ERROR = 'ERROR',\r\n}\r\n\r\nexport enum ErrorTypes {\r\n  ERROR_AUTHENTICATION = 'ERROR_AUTHENTICATION',\r\n  ERROR_USER_PROFILE_INFO = 'ERROR_USER_PROFILE_INFO',\r\n  ERROR_USER_TOP_DATA = 'ERROR_USER_TOP_DATA',\r\n}\r\n\r\nexport const constants = {\r\n  POST_TEST: createSagaAction('POST_TEST'),\r\n  PUT_TEST: createSagaAction('PUT_TEST'),\r\n  GET_TEST: createSagaAction('GET_TEST'),\r\n  DELETE_TEST: createSagaAction('DELETE_TEST')\r\n}","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../state\";\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector","export default __webpack_public_path__ + \"static/media/Spotify_Logo_RGB_White.f48fb565.png\";","import React from 'react'\r\nimport css from './Backdrop.module.css'\r\n\r\ninterface Props {\r\n    show: boolean\r\n}\r\n\r\nconst Backdrop: React.FC<Props> = (props) => {\r\n    return (\r\n        props.show ?\r\n        <div className={css.Backdrop}>\r\n            {props.children}\r\n        </div> : null\r\n    )\r\n}\r\n\r\nexport default Backdrop\r\n","import React from 'react'\r\nimport css from './Spinner.module.css'\r\n\r\nconst Spinner: React.FC = () => {\r\n  return (\r\n    \r\n    <div id=\"Loader\" className={css.Loader}>Loading...</div>\r\n  )\r\n}\r\n\r\nexport default Spinner;","/**\n * Internal function to create async saga action types.\n *\n * @param  String type Type to create\n * @return Object      Containing ACTION|SUCCESS|FAILED properties\n */\nexport function createSagaAction(type) {\n  return {\n    REQUEST: `${type}.REQUEST`,\n    SUCCESS: `${type}.SUCCESS`,\n    FAILURE: `${type}.FAILURE`\n  };\n}\n\nexport function createActionsConstants(names) {\n  return names.reduce((acc, name) => ({ ...acc, [name]: createSagaAction(name) }), {});\n}\n","import { Action } from '../actions/actions';\r\nimport { ActionType } from './../action-types/action-types';\r\n\r\ninterface UIState {\r\n  loading: boolean\r\n}\r\n\r\nconst initialState = {\r\n  loading: false\r\n}\r\n\r\nexport const uiReducer = (state: UIState = initialState, action: Action): UIState => {\r\n  switch (action.type) {\r\n    case (ActionType.TOGGLE_LOADING):\r\n      return {\r\n          loading: action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { Action } from '../actions/actions';\r\nimport { ActionType } from './../action-types/action-types';\r\n\r\ninterface UserDataState {\r\n  userTopData: string[]\r\n  userProfileInfo: any\r\n  userInputSelect: {\r\n    type: string\r\n    timeTerm: string\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  userTopData: [],\r\n  userProfileInfo: {\r\n    display_name: '',\r\n    images: []\r\n  },\r\n  userInputSelect: {\r\n    type: 'artists',\r\n    timeTerm: 'long_term'\r\n  }\r\n}\r\n\r\nexport const userDataReducer = (state: UserDataState = initialState, action: Action): UserDataState => {\r\n  switch (action.type) {\r\n    case (ActionType.USER_INPUT_SELECTED):\r\n      return {\r\n        ...state,\r\n        userInputSelect: action.payload\r\n      }\r\n    case (ActionType.USER_TOP_DATA_OBTAINED):\r\n      return {\r\n        ...state,\r\n        userTopData: action.payload \r\n      }\r\n    case (ActionType.USER_PROFILE_INFO_OBTAINED):\r\n      return {\r\n        ...state,\r\n        userProfileInfo: {...action.payload}\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { Action } from '../actions/actions';\r\nimport { ActionType, constants } from './../action-types/action-types';\r\n\r\ninterface LoginState {\r\n    isLoggedIn: boolean\r\n    authCode: string\r\n    accessToken: string | undefined\r\n    refreshToken: string | undefined\r\n    expiresAt: Date\r\n}\r\n\r\nconst initialState: LoginState = {\r\n    isLoggedIn: false,\r\n    authCode: '',\r\n    accessToken: '',\r\n    refreshToken: '',\r\n    expiresAt: new Date()\r\n}\r\n\r\nexport const loginReducer = (state: LoginState = initialState, action: Action): LoginState => {\r\n    switch (action.type) {\r\n        case (ActionType.USER_AUTHORIZED):\r\n            return {\r\n                ...state,\r\n                isLoggedIn: action.payload.isLoggedIn,\r\n                accessToken: action.payload.accessToken,\r\n                refreshToken: action.payload.refreshToken\r\n            }\r\n        case (ActionType.AUTH_CODE_OBTAINED):\r\n            return {\r\n                ...state,\r\n                authCode: action.payload\r\n            }\r\n        case (ActionType.ACCESS_TOKEN_OBTAINED):\r\n            // console.log('Refresh token: ', action.payload.refresh_token)\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload.access_token,\r\n                refreshToken: action.payload.refresh_token ? action.payload.refresh_token : state.refreshToken,\r\n                expiresAt: action.payload.expires_in,\r\n            }\r\n        // case (ActionType.REFRESH_TOKEN_OBTAINED):\r\n        //     return {\r\n        //         ...state,\r\n        //         refreshToken: action.payload\r\n        //     }\r\n        case (constants.POST_TEST.REQUEST):\r\n            console.log('aca se mando.. #esperando')\r\n            return state\r\n        case (constants.POST_TEST.SUCCESS):\r\n            console.log('aca anduvo..')\r\n            return state\r\n        case (constants.POST_TEST.FAILURE):\r\n            console.log('aca fallÃ³..')\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}","import { Action } from '../actions/actions';\r\nimport { ActionType } from './../action-types/action-types';\r\n\r\ninterface ErrorState {\r\n  error: {\r\n    errorType: string,\r\n    message: string\r\n  } | null\r\n}\r\n\r\nconst initialState: ErrorState = {\r\n  error: null  \r\n}\r\n\r\nexport const errorReducer = (state: ErrorState = initialState, action: Action): ErrorState => {\r\n  switch (action.type) {\r\n    case (ActionType.ERROR):\r\n      return {\r\n        error: action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { uiReducer } from './uiReducer';\r\nimport { combineReducers } from \"redux\";\r\nimport { userDataReducer } from './userDataReducer';\r\nimport { loginReducer } from \"./loginReducer\";\r\nimport { errorReducer } from './errorReducer';\r\n\r\nexport const rootReducer = (state: any, action: any) => {\r\n  if (action.type === 'USER_LOGOUT') {\r\n    state = undefined\r\n  }\r\n\r\n  return appReducer(state, action)\r\n}\r\n\r\nexport const appReducer = combineReducers({\r\n  login: loginReducer,\r\n  userData: userDataReducer,\r\n  ui: uiReducer,\r\n  error: errorReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\n","import qs from 'qs'\n\nconst _makeRequest = async (path = \"aca pones ej /song/isjd1941\", options: any, baseUrl = \"aca metes la url de spotify\") => {\n\n    let opts = getPayload(options);\n    if (opts.method === 'GET' && opts.params) {\n      path += qs.stringify(opts.params, { addQueryPrefix: true });\n    }\n    const requestUrl = `${baseUrl}/api/${path}`;\n  \n    let response = await fetch(requestUrl, opts);\n\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response;\n};\n  \n  function getPayload(options: any) {\n    // Stringify body option for fetch()\n    const { body } = options;\n    const isJson = Object.prototype.toString.call(body) === '[object Object]';\n  \n    let headers = isJson ? { 'Content-Type': 'application/json' } : {};\n  \n\n    // ACA VA EL AUTH\n    // headers = Object.assign(headers, options.headers, {\n    //   Authorization: getAuthorization()\n    // });\n  \n    const extras = isJson ? { body: JSON.stringify(body) } : {};\n    const result = Object.assign({}, options, { headers }, extras);\n    //const result = Object.assign({}, options, { headers }, extras, { agent });\n    //console.log(agent);\n  \n    return result;\n  }\n  \n  // POST EXAMPLE\n  export function POST(body: any) {\n    return _makeRequest('/auth/google-token', {\n      method: 'POST',\n      body\n    });\n  }\n  \n  // put\n  export function PUT(body: any) {\n    return _makeRequest('/auth/refresh-token', {\n      method: 'PUT',\n      body\n    });\n  }\n  \n  // DELETE\n  export function DELETE() {\n    return _makeRequest('/auth/refresh-token', {\n      method: 'DELETE'\n    });\n  }\n  \n  \n  // GET\n  export function GET(body: any) {\n    return _makeRequest(`/mock?user=${body.email}`, {\n      method: 'GET'\n    });\n  }\n  \n  ","import { all, fork, call, put, takeLatest } from 'redux-saga/effects';\n\nimport { constants } from '../action-types/action-types';\nimport * as api from '../api/test-api';\n\nfunction* addTestExample(action) {\n  try {\n    let { body } = action;\n\n    console.log('[SAGA]: Request')\n\n    const payload = yield call(api.POST, body);\n\n    console.log('[SAGA]: Success')\n    yield put({ type: constants.POST_TEST.SUCCESS, payload });\n  } catch (e) {\n    console.log('[SAGA]: Failure')\n    yield put({\n      type: constants.POST_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchAddTestExample() {\n  yield takeLatest(constants.POST_TEST.REQUEST, addTestExample);\n}\n\n// ---------------\n\nfunction* getTest(action) {\n  try {\n    const payload = yield call(api.GET, action.body);\n\n    yield put({ type: constants.GET_TEST.SUCCESS, payload });\n  } catch (e) {\n    yield put({\n      type: constants.GET_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchGetTest() {\n  yield takeLatest(constants.GET_TEST.REQUEST, getTest);\n}\n\n// ---------------\n\nfunction* deleteTest(action) {\n  try {\n    let { body } = action;\n    const payload = yield call(api.DELETE, body);\n    yield put({ type: constants.DELETE_TEST.SUCCESS, payload });\n  } catch (e) {\n    yield put({\n      type: constants.DELETE_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchDeleteTest() {\n  yield takeLatest(constants.DELETE_TEST.REQUEST, deleteTest);\n}\n\n// ---------------\n\nfunction* updateTest(action) {\n  try {\n    const payload = yield call(api.PUT, action.body);\n\n    yield put({ type: constants.PUT_TEST.SUCCESS, payload });\n  } catch (e) {\n    yield put({\n      type: constants.PUT_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchUpdateTest() {\n  yield takeLatest(constants.PUT_TEST.REQUEST, updateTest);\n}\n\n// ---------------\n\n/**\n * Export the root saga by forking all available sagas.\n */\nexport function* rootSaga() {\n  yield all([\n    fork(watchAddTestExample),\n    fork(watchGetTest),\n    fork(watchDeleteTest),\n    fork(watchUpdateTest)\n  ]);\n}\n","import { all, fork } from 'redux-saga/effects';\n\nimport { rootSaga as testSaga } from './test-saga';\n\nexport function* rootSaga() {\n  const sagas = [\n      testSaga\n  ].map(fork);\n\n  yield all(sagas);\n}\n\nexport default rootSaga;\n","import { rootReducer, RootState } from './state/reducers/rootReducer';\r\nimport { applyMiddleware, combineReducers, compose, createStore, Middleware } from \"redux\";\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport thunk from 'redux-thunk';\r\nimport rootSaga from './state/sagas';\r\n\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst saveToLocalStorage = (state: any) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state)\r\n    if (localStorage.getItem(\"app-version\") !== '7') {\r\n      localStorage.clear();\r\n      localStorage.setItem(\"app-version\", \"7\");\r\n    }\r\n    localStorage.setItem('state', serializedState)\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst loadFromLocalStorage = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('state')\r\n    if (serializedState === null) return undefined\r\n    return JSON.parse(serializedState)\r\n  } catch (err) {\r\n    console.log(err)\r\n    return undefined\r\n  }\r\n}\r\n\r\n\r\ndeclare global {\r\n    interface Window {\r\n      __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n      __REDUX_DEVTOOLS_EXTENSION__?: typeof compose;\r\n    }\r\n}\r\n\r\nexport const logger:\r\n  Middleware<{}, RootState> = store => next => action => {\r\n  console.log('[Middleware] Dispatching:', action)\r\n  const result = next(action)\r\n  console.log('[Middleware] next state:', store.getState( ))\r\n  return result\r\n}\r\n\r\nexport const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistedState = loadFromLocalStorage()\r\n\r\nexport const store = createStore(rootReducer, persistedState, composeEnhancers(applyMiddleware(thunk),applyMiddleware(sagaMiddleware)));\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()))\r\n\r\n// Run the saga now\r\nsagaMiddleware.run(rootSaga);\r\n\r\n\r\n// sagaMiddleware.run(mySaga)\r\n\r\n// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n","import { store } from \"../store\"\r\n\r\n// GET STATE\r\nlet state = store.getState();\r\nstore.subscribe(() => {\r\n    state = store.getState()\r\n    accessTokenReqData.set('code', state.login.authCode)\r\n    refreshTokenReqData.set('refresh_token', state.login.refreshToken || '')\r\n})\r\n\r\n// ENDPOINTS\r\nexport const AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize'\r\nexport const TOKEN_ENDPOINT = 'https://accounts.spotify.com/api/token'\r\nexport const REDIRECT_URI = process.env.NODE_ENV === 'development' ? 'http://localhost:3000/' : 'https://joaquinconti.github.io/spotify-app/'\r\nexport const API_URL = 'https://api.spotify.com/v1'\r\nexport const BASE_URL = process.env.NODE_ENV === 'development' ? '/' : '/spotify-app'\r\n\r\n// APP \r\nexport const CLIENT_ID = 'e4f6b37ece0b444f968fb0fc51aa80a6' || '790a84d7acf74bb19d1190baa107e089'\r\nexport const CLIENT_SECRET = '656c1bec03e7497caf18c88a094d8fbc' || '06abc79902244fc5b6428a26ed6df6e6'\r\nexport const scopes = 'user-read-private user-read-email user-read-recently-played user-read-playback-state user-top-read user-modify-playback-state user-read-currently-playing'\r\n\r\n// LOGIN\r\nexport const loginUri = AUTH_ENDPOINT +\r\n'?response_type=code' +\r\n'&client_id=' + CLIENT_ID +\r\n(scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\r\n'&redirect_uri=' + encodeURIComponent(REDIRECT_URI);\r\n\r\nexport const base64EncodedIdAndSecret = btoa(`${CLIENT_ID}:${CLIENT_SECRET}`)\r\n\r\n// DATA FOR POST REQUEST\r\nexport const accessTokenReqData = new URLSearchParams()\r\n    accessTokenReqData.append('grant_type', 'authorization_code')\r\n    accessTokenReqData.append('redirect_uri', REDIRECT_URI)\r\n    accessTokenReqData.append('code', state.login.authCode)\r\n\r\nexport const refreshTokenReqData = new URLSearchParams()\r\n    refreshTokenReqData.append('grant_type', 'refresh_token')\r\n    refreshTokenReqData.append('client_id', CLIENT_ID)","import { AxiosRequestConfig } from \"axios\";\r\nimport { base64EncodedIdAndSecret, REDIRECT_URI } from \"../index\"\r\nimport { store } from \"../../store\";\r\n\r\n// GET STATE\r\nlet state = store.getState();\r\nlet axiosGetTopArtistsConfig: AxiosRequestConfig\r\nstore.subscribe(() => {\r\n    state = store.getState()\r\n    axiosGetTopArtistsConfig = {\r\n        headers: {\r\n            'Authorization': `Bearer ${state.login.accessToken}`\r\n        }\r\n    }\r\n})\r\n\r\n// REQUESTS CONFIGS\r\nexport const axiosTokenReqConfig = {\r\n    headers: {\r\n        'Authorization': `Basic ${base64EncodedIdAndSecret}`,\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n}\r\n\r\nexport const axiosGetAuthorizeConfig = {\r\n    headers: {\r\n        'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n        'Origin': REDIRECT_URI + '/'\r\n    }\r\n}\r\n\r\nexport { axiosGetTopArtistsConfig }","import axios from 'axios';\r\nimport { Dispatch } from 'react';\r\nimport { axiosTokenReqConfig, accessTokenReqData, refreshTokenReqData, TOKEN_ENDPOINT, BASE_URL } from '../../api';\r\nimport { ActionType, ErrorTypes } from '../action-types/action-types';\r\nimport { Action } from '../actions/actions';\r\n\r\nexport interface IUserAuthorizedPayload {\r\n  isLoggedIn: boolean\r\n  accessToken?: string,\r\n  refreshToken?: string,\r\n  expiresAt?: Date,\r\n}\r\n\r\nexport const userAuthorized = (isAuthorized: boolean) => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n\r\n    let payload: IUserAuthorizedPayload = {\r\n      isLoggedIn: true\r\n    }\r\n    if (!isAuthorized) {\r\n      dispatch({\r\n        type: ActionType.USER_LOGOUT,\r\n        payload: null\r\n      })\r\n      payload = {\r\n        isLoggedIn: false,\r\n        accessToken: '',\r\n        refreshToken: ''\r\n      }\r\n    }\r\n    localStorage.clear()\r\n    dispatch({\r\n        type: ActionType.USER_AUTHORIZED,\r\n        payload: payload\r\n    })\r\n  }\r\n}\r\n\r\nexport const authCodeObtained = (authCode: string) => {\r\n  return {\r\n      type: ActionType.AUTH_CODE_OBTAINED,\r\n      payload: authCode\r\n  }\r\n}\r\n\r\n\r\nexport const getAccessToken = () => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    console.log(\"[Access Token] fetching\")\r\n    try {\r\n      const { data } = await axios.post(TOKEN_ENDPOINT, accessTokenReqData ,axiosTokenReqConfig)\r\n      data.expires_in = new Date()\r\n      data.expires_in.setHours(data.expires_in.getHours() + 1);\r\n      window.history.pushState({}, '', BASE_URL)\r\n      dispatch({\r\n        type: ActionType.ACCESS_TOKEN_OBTAINED,\r\n        payload: data\r\n      })\r\n    } catch (err) {\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: {\r\n          errorType: ErrorTypes.ERROR_AUTHENTICATION,\r\n          message: 'There was an error authenticating, please refresh the page and try again.'\r\n      }})\r\n      localStorage.clear()\r\n      console.log(err.response)\r\n    }\r\n  }\r\n}\r\n\r\nexport const getRefreshToken = (refreshToken: string | undefined) => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    console.log(\"[RefreshToken Token] fetching\")\r\n    try {\r\n      const { data } = await axios.post(TOKEN_ENDPOINT, refreshTokenReqData, axiosTokenReqConfig)\r\n      console.log(data)\r\n      data.expires_in = new Date()\r\n      data.expires_in.setHours(data.expires_in.getHours() + 1);\r\n      dispatch({\r\n        type: ActionType.ACCESS_TOKEN_OBTAINED,\r\n        payload: data\r\n      })\r\n    } catch (err) {\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: {\r\n          errorType: ErrorTypes.ERROR_AUTHENTICATION,\r\n          message: 'There was an error authenticating, please refresh the page and try again.'\r\n      }})\r\n      localStorage.clear()\r\n      console.log(err.response)\r\n    }\r\n  }\r\n}","import axios from 'axios';\r\nimport { Action } from './../actions/actions';\r\nimport { Dispatch } from 'redux';\r\nimport { axiosGetTopArtistsConfig, API_URL } from '../../api/index';\r\nimport { ActionType, constants, ErrorTypes } from './../action-types/action-types';\r\n\r\ninterface UserInputSelect {\r\n  type: string\r\n  timeTerm: string\r\n}\r\n\r\nexport const getUserProfileInfo = () => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/me`, axiosGetTopArtistsConfig)\r\n      dispatch({\r\n        type: ActionType.USER_PROFILE_INFO_OBTAINED,\r\n        payload: data\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: {\r\n          errorType: ErrorTypes.ERROR_USER_PROFILE_INFO,\r\n          message: 'There was an error obtaining your profile.'\r\n      }})\r\n      console.log(error.response)\r\n    }\r\n  }\r\n}\r\n\r\nexport const getUserTopData = (userInputSelect: UserInputSelect, expiresIn: Date) => { \r\n  const { type, timeTerm } = userInputSelect\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    dispatch({\r\n      type: ActionType.ERROR,\r\n      payload: null\r\n    })\r\n    // console.log('[getUserTopData]', userInputSelect)\r\n    dispatch({\r\n      type: ActionType.TOGGLE_LOADING,\r\n      payload: true\r\n    })\r\n\r\n    try {\r\n      dispatch({\r\n        type: ActionType.USER_TOP_DATA_OBTAINED,\r\n        payload: []\r\n      })\r\n      // console.log(\"[getUserTopData] fetching\")\r\n      const { data } = await axios.get(`${API_URL}/me/top/${type}?time_range=${timeTerm}`, axiosGetTopArtistsConfig)\r\n      // console.log('[ActionCreator]', data)\r\n      dispatch({\r\n        type: ActionType.USER_TOP_DATA_OBTAINED,\r\n        payload: data.items\r\n      })\r\n      dispatch({\r\n        type: ActionType.TOGGLE_LOADING,\r\n        payload: false\r\n      })\r\n    } catch (error) {\r\n      localStorage.clear()\r\n      dispatch({\r\n        type: ActionType.TOGGLE_LOADING,\r\n        payload: false\r\n      })\r\n      console.log(error.response)\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: {\r\n          errorType: ErrorTypes.ERROR_USER_TOP_DATA,\r\n          message: \"Something went wrong and we couldn't get your data. Please try re-logging in.\"\r\n      }})\r\n    }\r\n  }  \r\n}\r\n\r\nexport const userInputSelected = (userInputSelect: UserInputSelect) => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    dispatch({\r\n      type: ActionType.ERROR,\r\n      payload: null\r\n    })\r\n    dispatch({\r\n      type: ActionType.USER_TOP_DATA_OBTAINED,\r\n      payload: []\r\n    })\r\n    try {\r\n        dispatch({\r\n          type: ActionType.USER_INPUT_SELECTED,\r\n          payload: userInputSelect\r\n        })\r\n    } catch (error) {\r\n      localStorage.clear()\r\n      console.log(error.response)\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: {\r\n          errorType: ErrorTypes.ERROR_USER_TOP_DATA,\r\n          message: \"Something went wrong and we couldn't get your data. Please try re-logging in.\"\r\n      }})\r\n    }\r\n  }\r\n} \r\n\r\n\r\n// ELIMINAR\r\nexport const testAction = () => {\r\n  return {\r\n      type: constants.POST_TEST.REQUEST\r\n  }\r\n} ","import { ActionType } from '../action-types/action-types';\r\n\r\nexport const toggleLoading = (loading: boolean) => {\r\n  return {\r\n    type: ActionType.TOGGLE_LOADING,\r\n    payload: loading\r\n  }\r\n}\r\n","import { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { loginActionCreators, uiActionCreators, userDataActionCreators } from '../state';\r\n\r\n// NEED REFACTOR\r\nexport const useLoginActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(loginActionCreators, dispatch);\r\n};\r\n\r\nexport const useUserDataActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(userDataActionCreators, dispatch);\r\n};\r\n\r\nexport const useUIDataActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(uiActionCreators, dispatch);\r\n};","interface paramsType {\r\n\t[pair: string]: string,\r\n\tcode: string\r\n}\r\n\r\nconst getParams = (url: string): paramsType => {\r\n\tconst params: paramsType = { code: ''}\r\n\tconst parser: HTMLAnchorElement = document.createElement('a');\r\n\tparser.href = url;\r\n\tlet query: string = parser.search.substring(1);\r\n\tlet vars: Array<string> = query.split('&');\r\n\tfor (let i = 0; i < vars.length; i++) {\r\n\t\tlet pair: Array<string> = vars[i].split('=');\r\n\t\tparams[pair[0]] = decodeURIComponent(pair[1]);\r\n\t}\r\n\treturn params;\r\n};\r\n\r\nexport default getParams;","export const getInitials = (stringName: string) => {\r\n  const fullName = stringName.split(' ')\r\n  const initials = fullName.shift()!.charAt(0) + fullName.pop()!.charAt(0);\r\n  return initials.toUpperCase();\r\n}","import { Button } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { useLoginActions } from '../../../hooks/useActions'\r\nimport { useTypedSelector } from '../../../hooks/useTypedSelector'\r\nimport { ErrorTypes } from '../../../state/action-types/action-types'\r\n\r\nconst Error: React.FC = () => {\r\n  const { error } = useTypedSelector(state => state.error)\r\n  const { accessToken } = useTypedSelector(state => state.login)\r\n  const { userAuthorized } = useLoginActions()\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <p>{error?.message}</p>\r\n      {/* {error?.errorType === ErrorTypes.ERROR_AUTHENTICATION && <Button variant=\"contained\" onClick={() => userAuthorized(false)}>Log Out</Button>} */}\r\n      {/* {accessToken && <Button variant=\"contained\" onClick={() => userAuthorized(false)}>Log Out</Button>} */}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Error\r\n","import { GridList, GridListTile, GridListTileBar } from '@material-ui/core'\r\nimport React from 'react'\r\nimport imgNotFound from \"../../assets/image-not-found.png\"\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport css from './UserTopData.module.css'\r\n\r\nconst UserTopData: React.FC = () => {\r\n  const { userTopData, userInputSelect } = useTypedSelector(state => state.userData)\r\n\r\nreturn (\r\n  <React.Fragment>\r\n      <GridList cols={2} cellHeight={300} spacing={1} className={css.GridList}>\r\n        {userTopData && userTopData.map((artist: any, index: number) => {\r\n          let artistImg = imgNotFound;\r\n          if (userInputSelect.type === 'artists') {\r\n            if (artist.images[0]) artistImg = artist.images[0].url\r\n          } else {\r\n            if (artist.album.images[0]) artistImg = artist.album.images[0].url\r\n          }\r\n\r\n          return (<GridListTile key={index} cols={index === 0 ? 2 : 1} rows={1}>\r\n              <img className={css.ArtistImage} src={artistImg}  alt={artist.name} />\r\n              <GridListTileBar\r\n                title={`${index + 1}. ${artist.name}`}\r\n                titlePosition=\"top\"\r\n                actionPosition=\"left\"\r\n                className={css.TitleBar}\r\n              />\r\n          </GridListTile>)\r\n        })}\r\n      </GridList>\r\n  </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserTopData\r\n","export default \"data:image/png;base64,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\"","import { Avatar, Button } from '@material-ui/core'\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useLoginActions, useUserDataActions } from '../../hooks/useActions'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport { getInitials } from '../../utils/getInitials'\r\nimport Error from '../UI/Error/Error';\r\nimport Modal from '../UI/Modal/Modal'\r\nimport UserTopData from '../UserTopData/UserTopData'\r\nimport css from './Main.module.css'\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    small: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n    },\r\n    large: {\r\n      width: theme.spacing(15),\r\n      height: theme.spacing(15),\r\n    },\r\n  }),\r\n);\r\n\r\nconst Main: React.FC = () => {\r\n  const [showingModal, setShowingModal] = useState(false)\r\n\r\n  const { userInputSelect, userTopData, userProfileInfo } = useTypedSelector(state => state.userData)\r\n  const { accessToken, refreshToken, expiresAt } = useTypedSelector(state => state.login)\r\n  const { error } = useTypedSelector(state => state.error)\r\n\r\n\r\n  const { getUserProfileInfo,getUserTopData, userInputSelected } = useUserDataActions()\r\n  const { userAuthorized, getRefreshToken } = useLoginActions()\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLSelectElement>, inputChangedIs: string) => {\r\n    userInputSelected({\r\n      type: inputChangedIs === 'type' ? e.target.value : userInputSelect.type,\r\n      timeTerm: inputChangedIs === 'timeTerm' ? e.target.value : userInputSelect.timeTerm\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return\r\n    const now = new Date()\r\n    const refreshTokenExpired = new Date(expiresAt).getTime() < now.getTime()\r\n    if (refreshTokenExpired) getRefreshToken(refreshToken)\r\n    if (!userProfileInfo.id) getUserProfileInfo()\r\n    if (!userTopData.length) getUserTopData(userInputSelect, expiresAt)\r\n  }, [userProfileInfo, refreshToken, accessToken, userInputSelect])\r\n\r\n  return (\r\n    userTopData.length ? \r\n    <React.Fragment>\r\n      \r\n      {/* {showingModal &&\r\n        <Modal>\r\n          <h3>Are you sure you want to log out?</h3>\r\n          <br/> \r\n          <Button onClick={() => userAuthorized(false)}>Yes</Button> \r\n          <Button onClick={() => setShowingModal(false)}>No</Button>\r\n        </Modal>} */}\r\n      {userProfileInfo.id && \r\n      <React.Fragment>\r\n        <h4>{userProfileInfo.display_name}</h4>\r\n        {userProfileInfo.images.length ?\r\n        <Avatar\r\n          className={`${css.UserImage} ${classes.large}`}\r\n          src={userProfileInfo.images[0].url} \r\n          alt={`${userProfileInfo.display_name} image`}\r\n        />\r\n        :\r\n        <Avatar\r\n          className={`${css.UserImage} ${classes.small}`}\r\n        >{getInitials(userProfileInfo.display_name)}</Avatar>}\r\n      </React.Fragment>}\r\n      {error && <Error />}\r\n      <Button variant=\"contained\" onClick={() => userAuthorized(false)}>Log Out</Button>\r\n      <div className={css.GroupDiv}>\r\n        <div>\r\n          <label htmlFor=\"type\" >Get your top: </label>\r\n          <select value={userInputSelect.type} className={css.Select} name=\"type\" onChange={(e) => handleChange(e, e.target.name)}>\r\n              <option value=\"artists\">Artists</option>\r\n              <option value=\"tracks\">Tracks</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"timeTerm\" >From: </label>\r\n          <select value={userInputSelect.timeTerm} className={css.Select} name=\"timeTerm\" onChange={(e) => handleChange(e, e.target.name)}>\r\n              <option value=\"short_term\">This month</option>\r\n              <option value=\"medium_term\">6 months</option>\r\n              <option value=\"long_term\">All time</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      {/* <br />\r\n      <InputLabel htmlFor=\"type\">Get your top...</InputLabel>\r\n      <Select\r\n        name=\"type\"\r\n        value={userInputSelect.type}\r\n        onChange={(e) => handleSelectChange(e, e.target.name)}\r\n      >\r\n        <MenuItem value={\"artists\"}>Artists</MenuItem>\r\n        <MenuItem value={\"tracks\"}>Tracks</MenuItem>\r\n      </Select>\r\n      <br />\r\n      <InputLabel htmlFor=\"timeTerm\">From...</InputLabel>\r\n      <Select\r\n        name=\"timeTerm\"\r\n        value={userInputSelect.timeTerm}\r\n        onChange={(e) => handleSelectChange(e, e.target.name)}\r\n      >\r\n        <MenuItem value={\"short_term\"}>This month</MenuItem>\r\n        <MenuItem value={\"medium_term\"}>6 months</MenuItem>\r\n        <MenuItem value={\"long_term\"}>All time</MenuItem>\r\n      </Select>\r\n      <br /> */}\r\n      <UserTopData />\r\n    </React.Fragment> : null\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React, { useEffect } from 'react'\r\nimport css from './Layout.module.css'\r\nimport { useTypedSelector, } from '../../hooks/useTypedSelector'\r\nimport logo from \"../../assets/logos/01_RGB/02_PNG/Spotify_Logo_RGB_White.png\"\r\nimport Backdrop from '../UI/Backdrop/Backdrop'\r\nimport Spinner from '../UI/Spinner/Spinner'\r\nimport { useLoginActions } from '../../hooks/useActions'\r\nimport getParams from '../../utils/getParams'\r\nimport Main from '../Main/Main'\r\nimport { loginUri } from '../../api'\r\nimport { Button } from '@material-ui/core'\r\n\r\n// ELIMINAR\r\nimport { useDispatch } from 'react-redux';\r\nimport { testAction } from '../../state/action-creators/user-data-action-creators';\r\nimport Error from '../UI/Error/Error'\r\n\r\nconst Layout: React.FC = () => {\r\n  const { authCode, isLoggedIn, accessToken  } = useTypedSelector(state => state.login)\r\n  const { loading } = useTypedSelector(state => state.ui)\r\n  const { error } = useTypedSelector(state => state.error)\r\n\r\n  const { userAuthorized, authCodeObtained, getAccessToken } = useLoginActions()\r\n\r\n  \r\n  // ELIMINAR\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const code = getParams(window.location.href).code\r\n    if (!code || code === authCode) return\r\n    authCodeObtained(code)\r\n    getAccessToken()\r\n    // userAuthorized(true)\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <main className={css.Container}>\r\n      <img\r\n        className={css.Logo}\r\n        src={logo}\r\n        alt=\"spotify-logo\"\r\n      />\r\n\r\n      {/* {error && <Error />} */}\r\n\r\n      {accessToken ?\r\n      \r\n      <React.Fragment>\r\n        <Backdrop show={loading}>\r\n          <Spinner />\r\n        </Backdrop>\r\n        \r\n        <Main />\r\n      </React.Fragment> :\r\n      <React.Fragment>\r\n        \r\n        <a className={css.Anchor} href={loginUri}>LOG IN WITH SPOTIFY</a>\r\n      </React.Fragment>}\r\n\r\n      {/* <button onClick={() => dispatch(testAction())}>Jeje mira este llama a la saga</button> */}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react';\nimport css from './App.module.css';\nimport Layout from './components/Layout/Layout';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nfunction App() {\n  return (\n    <div className={css.App}>\n      <BrowserRouter>\n        <Layout />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserImage\":\"Main_UserImage__3qxFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerAbsolute\":\"Layout_ContainerAbsolute__GVuZd\",\"Container\":\"Layout_Container__BQf6m\",\"Loader\":\"Layout_Loader__1uyud\",\"Logo\":\"Layout_Logo__1vjZI\",\"Anchor\":\"Layout_Anchor__16oze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TitleBar\":\"UserTopData_TitleBar__3Y7Do\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1B3w2\",\"Anchor\":\"App_Anchor__1EPTJ\",\"Logo\":\"App_Logo__TfFJ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3Q11w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__15U4I\",\"spinner\":\"Spinner_spinner__3ClXT\"};"],"sourceRoot":""}