{"version":3,"sources":["state/action-types/action-types.ts","hooks/useTypedSelector.ts","assets/logos/01_RGB/02_PNG/Spotify_Logo_RGB_White.png","components/UI/Backdrop/Backdrop.tsx","UI/Spinner/Spinner.tsx","state/sagas/helper.js","state/reducers/uiReducer.ts","state/reducers/userDataReducer.ts","state/reducers/loginReducer.ts","state/reducers/errorReducer.ts","state/reducers/rootReducer.ts","state/api/test-api.ts","state/sagas/test-saga.js","state/sagas/index.ts","store.ts","api/apiConfig.ts","api/axios/axiosConfigs.ts","state/action-creators/login-action-creators.ts","state/action-creators/user-data-action-creators.ts","state/action-creators/ui-action-creators.ts","hooks/useActions.ts","helpers/getParams.ts","components/UserTopData/UserTopData.tsx","components/Main/Main.tsx","components/Layout/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Main/Main.module.css","components/Layout/Layout.module.css","components/UserTopData/UserTopData.module.css","App.module.css","components/UI/Backdrop/Backdrop.module.css","UI/Spinner/Spinner.module.css"],"names":["ActionType","useTypedSelector","useSelector","Backdrop","props","show","className","css","children","Spinner","id","Loader","createSagaAction","type","REQUEST","SUCCESS","FAILURE","constants","POST_TEST","PUT_TEST","GET_TEST","DELETE_TEST","initialState","loading","userTopData","userInputSelect","timeTerm","isLoggedIn","userProfileInfo","authCode","accessToken","refreshToken","error","rootReducer","combineReducers","login","state","action","USER_AUTHORIZED","payload","USER_PROFILE_INFO_OBTAINED","AUTH_CODE_OBTAINED","ACCESS_TOKEN_OBTAINED","REFRESH_TOKEN_OBTAINED","console","log","userData","USER_INPUT_SELECTED","USER_TOP_DATA_OBTAINED","ui","TOGGLE_LOADING","ERROR","_makeRequest","a","path","options","baseUrl","opts","getPayload","method","params","qs","stringify","addQueryPrefix","requestUrl","fetch","response","ok","Error","statusText","body","isJson","Object","prototype","toString","call","headers","extras","JSON","assign","POST","PUT","DELETE","GET","email","addTestExample","watchAddTestExample","getTest","watchGetTest","deleteTest","watchDeleteTest","updateTest","watchUpdateTest","rootSaga","api","put","message","takeLatest","all","fork","sagas","testSaga","map","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","serializedState","localStorage","getItem","parse","err","loadFromLocalStorage","store","createStore","applyMiddleware","thunk","subscribe","setItem","saveToLocalStorage","getState","run","data","set","TOKEN_ENDPOINT","REDIRECT_URI","API_URL","CLIENT_ID","scopes","loginUri","AUTH_ENDPOINT","encodeURIComponent","base64EncodedIdAndSecret","btoa","URLSearchParams","append","axiosGetTopArtistsConfig","axiosTokenReqConfig","userAuthorized","isAuthorized","getUserProfileInfo","dispatch","axios","get","authCodeObtained","getAccessToken","post","reqData","access_token","getRefreshToken","refresh_token","getUserTopData","items","userInputSelected","testAction","toggleLoading","useLoginActions","useDispatch","bindActionCreators","loginActionCreators","getParams","url","code","parser","document","createElement","href","vars","search","substring","split","i","length","pair","decodeURIComponent","UserTopData","Fragment","GridList","cols","cellHeight","spacing","artist","index","GridListTile","rows","ArtistImage","src","images","album","alt","name","GridListTileBar","title","titlePosition","actionPosition","TitleBar","Main","useState","userDataActionCreators","useUserDataActions","display_name","handleChange","e","inputChangedIs","target","value","useEffect","Avatar","UserImage","Button","variant","onClick","GroupDiv","htmlFor","Select","onChange","Layout","location","Container","Logo","logo","Anchor","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b619ea2d.chunk.js","sourcesContent":["import { createSagaAction } from '../sagas/helper';\r\n\r\nexport enum ActionType {\r\n  //LOGIN\r\n  USER_AUTHORIZED = 'USER_AUTHORIZED',\r\n  USER_PROFILE_INFO_OBTAINED = 'USER_PROFILE_INFO_OBTAINED',\r\n  AUTH_CODE_OBTAINED = 'AUTH_CODE_OBTAINED',\r\n  ACCESS_TOKEN_OBTAINED = 'ACCESS_TOKEN_OBTAINED',\r\n  REFRESH_TOKEN_OBTAINED = 'REFRESH_TOKEN_OBTAINED',\r\n\r\n  //USER DATA\r\n  USER_TOP_DATA_OBTAINED = 'USER_TOP_DATA_OBTAINED',\r\n  USER_INPUT_SELECTED = 'USER_INPUT_SELECTED',\r\n\r\n  //UI\r\n  TOGGLE_LOADING = 'TOGGLE_LOADING',\r\n\r\n  //ERRORS\r\n  ERROR = 'ERROR',\r\n\r\n}\r\n\r\nexport const constants = {\r\n  POST_TEST: createSagaAction('POST_TEST'),\r\n  PUT_TEST: createSagaAction('PUT_TEST'),\r\n  GET_TEST: createSagaAction('GET_TEST'),\r\n  DELETE_TEST: createSagaAction('DELETE_TEST')\r\n}","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../state\";\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector","export default __webpack_public_path__ + \"static/media/Spotify_Logo_RGB_White.f48fb565.png\";","import React from 'react'\r\nimport css from './Backdrop.module.css'\r\n\r\ninterface Props {\r\n    show: boolean\r\n}\r\n\r\nconst Backdrop: React.FC<Props> = (props) => {\r\n    return (\r\n        props.show ?\r\n        <div className={css.Backdrop}>\r\n            {props.children}\r\n        </div> : null\r\n    )\r\n}\r\n\r\nexport default Backdrop\r\n","import React from 'react'\r\nimport css from './Spinner.module.css'\r\n\r\nconst Spinner: React.FC = () => {\r\n  return (\r\n    \r\n    <div id=\"Loader\" className={css.Loader}>Loading...</div>\r\n  )\r\n}\r\n\r\nexport default Spinner;","/**\n * Internal function to create async saga action types.\n *\n * @param  String type Type to create\n * @return Object      Containing ACTION|SUCCESS|FAILED properties\n */\nexport function createSagaAction(type) {\n  return {\n    REQUEST: `${type}.REQUEST`,\n    SUCCESS: `${type}.SUCCESS`,\n    FAILURE: `${type}.FAILURE`\n  };\n}\n\nexport function createActionsConstants(names) {\n  return names.reduce((acc, name) => ({ ...acc, [name]: createSagaAction(name) }), {});\n}\n","import { Action } from '../actions/actions';\r\nimport { ActionType } from './../action-types/action-types';\r\n\r\ninterface UIState {\r\n  loading: boolean\r\n}\r\n\r\nconst initialState = {\r\n  loading: false\r\n}\r\n\r\nexport const uiReducer = (state: UIState = initialState, action: Action): UIState => {\r\n  switch (action.type) {\r\n    case (ActionType.TOGGLE_LOADING):\r\n      return {\r\n          loading: action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { Action } from '../actions/actions';\r\nimport { ActionType } from './../action-types/action-types';\r\n\r\ninterface UserDataState {\r\n  userTopData: string[]\r\n  userInputSelect: {\r\n    type: string\r\n    timeTerm: string\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  userTopData: [],\r\n  userInputSelect: {\r\n    type: 'artists',\r\n    timeTerm: 'long_term'\r\n  }\r\n}\r\n\r\nexport const userDataReducer = (state: UserDataState = initialState, action: Action): UserDataState => {\r\n  switch (action.type) {\r\n    case (ActionType.USER_INPUT_SELECTED):\r\n      return {\r\n          ...state,\r\n          userInputSelect: action.payload\r\n      }\r\n    case (ActionType.USER_TOP_DATA_OBTAINED):\r\n      return {\r\n          ...state,\r\n          userTopData: action.payload \r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { Action } from '../actions/actions';\r\nimport { ActionType, constants } from './../action-types/action-types';\r\n\r\ninterface LoginState {\r\n    isLoggedIn: boolean\r\n    userProfileInfo: any\r\n    authCode: string\r\n    accessToken: string | undefined\r\n    refreshToken: string | undefined\r\n}\r\n\r\nconst initialState: LoginState = {\r\n    isLoggedIn: false,\r\n    userProfileInfo: {},\r\n    authCode: '',\r\n    accessToken: '',\r\n    refreshToken: ''\r\n}\r\n\r\nexport const loginReducer = (state: LoginState = initialState, action: Action): LoginState => {\r\n    switch (action.type) {\r\n        case (ActionType.USER_AUTHORIZED):\r\n            return {\r\n                ...state,\r\n                isLoggedIn: action.payload.isLoggedIn,\r\n                accessToken: action.payload.accessToken,\r\n                refreshToken: action.payload.refreshToken\r\n            }\r\n        case (ActionType.USER_PROFILE_INFO_OBTAINED):\r\n            return {\r\n                ...state,\r\n                userProfileInfo: {...action.payload}\r\n            }\r\n        case (ActionType.AUTH_CODE_OBTAINED):\r\n            return {\r\n                ...state,\r\n                authCode: action.payload\r\n            }\r\n        case (ActionType.ACCESS_TOKEN_OBTAINED):\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload\r\n            }\r\n        case (ActionType.REFRESH_TOKEN_OBTAINED):\r\n            return {\r\n                ...state,\r\n                refreshToken: action.payload\r\n            }\r\n        case (constants.POST_TEST.REQUEST):\r\n            console.log('aca se mando.. #esperando')\r\n            return state\r\n        case (constants.POST_TEST.SUCCESS):\r\n            console.log('aca anduvo..')\r\n            return state\r\n        case (constants.POST_TEST.FAILURE):\r\n            console.log('aca fallÃ³..')\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}","import { Action } from '../actions/actions';\r\nimport { ActionType } from './../action-types/action-types';\r\n\r\ninterface ErrorState {\r\n  error: any\r\n}\r\n\r\nconst initialState: ErrorState = {\r\n  error: null  \r\n}\r\n\r\nexport const errorReducer = (state: ErrorState = initialState, action: Action): ErrorState => {\r\n  switch (action.type) {\r\n    case (ActionType.ERROR):\r\n      return {\r\n        error: action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { uiReducer } from './uiReducer';\r\nimport { combineReducers } from \"redux\";\r\nimport { userDataReducer } from './userDataReducer';\r\nimport { loginReducer } from \"./loginReducer\";\r\nimport { errorReducer } from './errorReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  login: loginReducer,\r\n  userData: userDataReducer,\r\n  ui: uiReducer,\r\n  error: errorReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\n","import qs from 'qs'\n\nconst _makeRequest = async (path = \"aca pones ej /song/isjd1941\", options: any, baseUrl = \"aca metes la url de spotify\") => {\n\n    let opts = getPayload(options);\n    if (opts.method === 'GET' && opts.params) {\n      path += qs.stringify(opts.params, { addQueryPrefix: true });\n    }\n    const requestUrl = `${baseUrl}/api/${path}`;\n  \n    let response = await fetch(requestUrl, opts);\n\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response;\n};\n  \n  function getPayload(options: any) {\n    // Stringify body option for fetch()\n    const { body } = options;\n    const isJson = Object.prototype.toString.call(body) === '[object Object]';\n  \n    let headers = isJson ? { 'Content-Type': 'application/json' } : {};\n  \n\n    // ACA VA EL AUTH\n    // headers = Object.assign(headers, options.headers, {\n    //   Authorization: getAuthorization()\n    // });\n  \n    const extras = isJson ? { body: JSON.stringify(body) } : {};\n    const result = Object.assign({}, options, { headers }, extras);\n    //const result = Object.assign({}, options, { headers }, extras, { agent });\n    //console.log(agent);\n  \n    return result;\n  }\n  \n  // POST EXAMPLE\n  export function POST(body: any) {\n    return _makeRequest('/auth/google-token', {\n      method: 'POST',\n      body\n    });\n  }\n  \n  // put\n  export function PUT(body: any) {\n    return _makeRequest('/auth/refresh-token', {\n      method: 'PUT',\n      body\n    });\n  }\n  \n  // DELETE\n  export function DELETE() {\n    return _makeRequest('/auth/refresh-token', {\n      method: 'DELETE'\n    });\n  }\n  \n  \n  // GET\n  export function GET(body: any) {\n    return _makeRequest(`/mock?user=${body.email}`, {\n      method: 'GET'\n    });\n  }\n  \n  ","import { all, fork, call, put, takeLatest } from 'redux-saga/effects';\n\nimport { constants } from '../action-types/action-types';\nimport * as api from '../api/test-api';\n\nfunction* addTestExample(action) {\n  try {\n    let { body } = action;\n\n    console.log('[SAGA]: Request')\n\n    const payload = yield call(api.POST, body);\n\n    console.log('[SAGA]: Success')\n    yield put({ type: constants.POST_TEST.SUCCESS, payload });\n  } catch (e) {\n    console.log('[SAGA]: Failure')\n    yield put({\n      type: constants.POST_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchAddTestExample() {\n  yield takeLatest(constants.POST_TEST.REQUEST, addTestExample);\n}\n\n// ---------------\n\nfunction* getTest(action) {\n  try {\n    const payload = yield call(api.GET, action.body);\n\n    yield put({ type: constants.GET_TEST.SUCCESS, payload });\n  } catch (e) {\n    yield put({\n      type: constants.GET_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchGetTest() {\n  yield takeLatest(constants.GET_TEST.REQUEST, getTest);\n}\n\n// ---------------\n\nfunction* deleteTest(action) {\n  try {\n    let { body } = action;\n    const payload = yield call(api.DELETE, body);\n    yield put({ type: constants.DELETE_TEST.SUCCESS, payload });\n  } catch (e) {\n    yield put({\n      type: constants.DELETE_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchDeleteTest() {\n  yield takeLatest(constants.DELETE_TEST.REQUEST, deleteTest);\n}\n\n// ---------------\n\nfunction* updateTest(action) {\n  try {\n    const payload = yield call(api.PUT, action.body);\n\n    yield put({ type: constants.PUT_TEST.SUCCESS, payload });\n  } catch (e) {\n    yield put({\n      type: constants.PUT_TEST.FAILURE,\n      message: e.message || e\n    });\n  }\n}\n\nfunction* watchUpdateTest() {\n  yield takeLatest(constants.PUT_TEST.REQUEST, updateTest);\n}\n\n// ---------------\n\n/**\n * Export the root saga by forking all available sagas.\n */\nexport function* rootSaga() {\n  yield all([\n    fork(watchAddTestExample),\n    fork(watchGetTest),\n    fork(watchDeleteTest),\n    fork(watchUpdateTest)\n  ]);\n}\n","import { all, fork } from 'redux-saga/effects';\n\nimport { rootSaga as testSaga } from './test-saga';\n\nexport function* rootSaga() {\n  const sagas = [\n      testSaga\n  ].map(fork);\n\n  yield all(sagas);\n}\n\nexport default rootSaga;\n","import { rootReducer, RootState } from './state/reducers/rootReducer';\r\nimport { applyMiddleware, combineReducers, compose, createStore, Middleware } from \"redux\";\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport thunk from 'redux-thunk';\r\nimport rootSaga from './state/sagas';\r\n\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst saveToLocalStorage = (state: any) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state)\r\n    localStorage.setItem('state', serializedState)\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst loadFromLocalStorage = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('state')\r\n    if (serializedState === null) return undefined\r\n    return JSON.parse(serializedState)\r\n  } catch (err) {\r\n    console.log(err)\r\n    return undefined\r\n  }\r\n}\r\n\r\n\r\ndeclare global {\r\n    interface Window {\r\n      __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n      __REDUX_DEVTOOLS_EXTENSION__?: typeof compose;\r\n    }\r\n}\r\n\r\nexport const logger:\r\n  Middleware<{}, RootState> = store => next => action => {\r\n  console.log('[Middleware] Dispatching:', action)\r\n  const result = next(action)\r\n  console.log('[Middleware] next state:', store.getState( ))\r\n  return result\r\n}\r\n\r\nexport const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistedState = loadFromLocalStorage()\r\n\r\nexport const store = createStore(rootReducer, persistedState, composeEnhancers(applyMiddleware(thunk),applyMiddleware(sagaMiddleware)));\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()))\r\n\r\n// Run the saga now\r\nsagaMiddleware.run(rootSaga);\r\n\r\n\r\n// sagaMiddleware.run(mySaga)\r\n\r\n// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n","import { store } from \"../store\"\r\n\r\n// GET STATE\r\nlet state = store.getState();\r\nstore.subscribe(() => {\r\n    state = store.getState()\r\n    data.set('code', state.login.authCode)\r\n})\r\n\r\n// ENDPOINTS\r\nexport const AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize'\r\nexport const TOKEN_ENDPOINT = 'https://accounts.spotify.com/api/token'\r\nexport const REDIRECT_URI = 'http://localhost:3000/'\r\nexport const API_URL = 'https://api.spotify.com/v1'\r\n\r\n// APP \r\nexport const CLIENT_ID = '790a84d7acf74bb19d1190baa107e089'\r\nexport const CLIENT_SECRET = '06abc79902244fc5b6428a26ed6df6e6'\r\nexport const scopes = 'user-read-private user-read-email user-read-recently-played user-read-playback-state user-top-read user-modify-playback-state user-read-currently-playing'\r\n\r\n// LOGIN\r\nexport const loginUri = AUTH_ENDPOINT +\r\n'?response_type=code' +\r\n'&client_id=' + CLIENT_ID +\r\n(scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\r\n'&redirect_uri=' + encodeURIComponent(REDIRECT_URI);\r\n\r\nexport const base64EncodedIdAndSecret = btoa(`${CLIENT_ID}:${CLIENT_SECRET}`)\r\n\r\n// DATA FOR POST REQUEST\r\nexport const data = new URLSearchParams()\r\n    data.append('grant_type', 'authorization_code')\r\n    data.append('redirect_uri', REDIRECT_URI)\r\n    data.append('code', state.login.authCode)","import { AxiosRequestConfig } from \"axios\";\r\nimport { base64EncodedIdAndSecret, REDIRECT_URI } from \"../index\"\r\nimport { store } from \"../../store\";\r\n\r\n// GET STATE\r\nlet state = store.getState();\r\nlet axiosGetTopArtistsConfig: AxiosRequestConfig\r\nstore.subscribe(() => {\r\n    state = store.getState()\r\n    axiosGetTopArtistsConfig = {\r\n        headers: {\r\n            'Authorization': `Bearer ${state.login.accessToken}`\r\n        }\r\n    }\r\n})\r\n\r\n// REQUESTS CONFIGS\r\nexport const axiosTokenReqConfig = {\r\n    headers: {\r\n        'Authorization': `Basic ${base64EncodedIdAndSecret}`,\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n}\r\n\r\nexport const axiosGetAuthorizeConfig = {\r\n    headers: {\r\n        'Access-Control-Allow-Origin': 'http://localhost:3000',\r\n        'Origin': REDIRECT_URI + '/'\r\n    }\r\n}\r\n\r\nexport { axiosGetTopArtistsConfig }","import axios from 'axios';\r\nimport { Dispatch } from 'react';\r\nimport { API_URL, axiosGetTopArtistsConfig, axiosTokenReqConfig, data as reqData, TOKEN_ENDPOINT } from '../../api';\r\nimport { ActionType } from '../action-types/action-types';\r\nimport { Action } from '../actions/actions';\r\n\r\nexport interface IUserAuthorizedPayload {\r\n  isLoggedIn: boolean\r\n  accessToken?: string,\r\n  refreshToken?: string\r\n}\r\n\r\nexport const userAuthorized = (isAuthorized: boolean) => {\r\n  let payload: IUserAuthorizedPayload = {\r\n    isLoggedIn: true\r\n  }\r\n  if (!isAuthorized) {\r\n    payload = {\r\n      isLoggedIn: false,\r\n      accessToken: '',\r\n      refreshToken: ''\r\n    }\r\n  }\r\n  return {\r\n      type: ActionType.USER_AUTHORIZED,\r\n      payload: payload\r\n  }\r\n}\r\n\r\nexport const getUserProfileInfo = () => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/me`, axiosGetTopArtistsConfig)\r\n      console.log(data)\r\n      dispatch({\r\n        type: ActionType.USER_PROFILE_INFO_OBTAINED,\r\n        payload: data\r\n      })\r\n    } catch (error) {\r\n      console.log(error.response)\r\n    }\r\n  }\r\n}\r\n\r\nexport const authCodeObtained = (authCode: string) => {\r\n  return {\r\n      type: ActionType.AUTH_CODE_OBTAINED,\r\n      payload: authCode\r\n  }\r\n}\r\n\r\n\r\nexport const getAccessToken = () => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    console.log(\"[Access Token] fetching\")\r\n    try {\r\n      const { data } = await axios.post(TOKEN_ENDPOINT, reqData ,axiosTokenReqConfig)\r\n      dispatch({\r\n        type: ActionType.ACCESS_TOKEN_OBTAINED,\r\n        payload: data.access_token\r\n      })\r\n      dispatch({ \r\n        type: ActionType.REFRESH_TOKEN_OBTAINED,\r\n        payload: data.refreshToken\r\n      })\r\n    } catch (err) {\r\n      console.log(err.response)\r\n    }\r\n  }\r\n}\r\n\r\nexport const getRefreshToken = () => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    console.log(\"[RefreshToken Token] fetching\")\r\n    try {\r\n      const { data } = await axios.post(TOKEN_ENDPOINT, reqData ,axiosTokenReqConfig)\r\n      console.log(data)\r\n      dispatch({\r\n        type: ActionType.ACCESS_TOKEN_OBTAINED,\r\n        payload: data.access_token\r\n      })\r\n      dispatch({ \r\n        type: ActionType.REFRESH_TOKEN_OBTAINED,\r\n        payload: data.refresh_token\r\n      })\r\n    } catch (err) {\r\n      console.log(err.response)\r\n    }\r\n  }\r\n}","import axios from 'axios';\r\nimport { Action } from './../actions/actions';\r\nimport { Dispatch } from 'redux';\r\nimport { axiosGetTopArtistsConfig, API_URL } from '../../api/index';\r\nimport { ActionType, constants } from './../action-types/action-types';\r\n\r\ninterface UserInputSelect {\r\n  type: string\r\n  timeTerm: string\r\n}\r\n\r\nexport const getUserTopData = (userInputSelect: UserInputSelect) => { \r\n  const { type, timeTerm } = userInputSelect\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    dispatch({\r\n      type: ActionType.ERROR,\r\n      payload: null\r\n    })\r\n    console.log('[getUserTopData]', userInputSelect)\r\n    dispatch({\r\n      type: ActionType.TOGGLE_LOADING,\r\n      payload: true\r\n    })\r\n    try {\r\n      dispatch({\r\n        type: ActionType.USER_TOP_DATA_OBTAINED,\r\n        payload: []\r\n      })\r\n      console.log(\"[getUserTopData] fetching\")\r\n      const { data } = await axios.get(`${API_URL}/me/top/${type}?time_range=${timeTerm}`, axiosGetTopArtistsConfig)\r\n      console.log('[ActionCreator]', data)\r\n      dispatch({\r\n        type: ActionType.USER_TOP_DATA_OBTAINED,\r\n        payload: data.items\r\n      })\r\n      dispatch({\r\n        type: ActionType.TOGGLE_LOADING,\r\n        payload: false\r\n      })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ActionType.TOGGLE_LOADING,\r\n        payload: false\r\n      })\r\n      console.log(error.response)\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: 'Something went wrong. Try re-logging in.'\r\n      })\r\n    }\r\n  }  \r\n}\r\n\r\nexport const userInputSelected = (userInputSelect: UserInputSelect) => {\r\n  return async (dispatch: Dispatch<Action>) => {\r\n    dispatch({\r\n      type: ActionType.ERROR,\r\n      payload: null\r\n    })\r\n    dispatch({\r\n      type: ActionType.USER_TOP_DATA_OBTAINED,\r\n      payload: []\r\n    })\r\n    try {\r\n        dispatch({\r\n          type: ActionType.USER_INPUT_SELECTED,\r\n          payload: userInputSelect\r\n        })\r\n    } catch (error) {\r\n      console.log(error.response)\r\n      dispatch({\r\n        type: ActionType.ERROR,\r\n        payload: 'Something went wrong. Try re-logging in.'\r\n      })\r\n    }\r\n  }\r\n} \r\n\r\n\r\n// ELIMINAR\r\nexport const testAction = () => {\r\n  return {\r\n      type: constants.POST_TEST.REQUEST\r\n  }\r\n} ","import { ActionType } from '../action-types/action-types';\r\n\r\nexport const toggleLoading = (loading: boolean) => {\r\n  return {\r\n    type: ActionType.TOGGLE_LOADING,\r\n    payload: loading\r\n  }\r\n}\r\n","import { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { loginActionCreators, uiActionCreators, userDataActionCreators } from '../state';\r\n\r\n// NEED REFACTOR\r\nexport const useLoginActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(loginActionCreators, dispatch);\r\n};\r\n\r\nexport const useUserDataActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(userDataActionCreators, dispatch);\r\n};\r\n\r\nexport const useUIDataActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(uiActionCreators, dispatch);\r\n};","interface paramsType {\r\n\t[pair: string]: string,\r\n\tcode: string\r\n}\r\n\r\nconst getParams = (url: string): paramsType => {\r\n\tconst params: paramsType = { code: ''}\r\n\tconst parser: HTMLAnchorElement = document.createElement('a');\r\n\tparser.href = url;\r\n\tlet query: string = parser.search.substring(1);\r\n\tlet vars: Array<string> = query.split('&');\r\n\tfor (let i = 0; i < vars.length; i++) {\r\n\t\tlet pair: Array<string> = vars[i].split('=');\r\n\t\tparams[pair[0]] = decodeURIComponent(pair[1]);\r\n\t}\r\n\treturn params;\r\n};\r\n\r\nexport default getParams;","import { Container, GridList, GridListTile, GridListTileBar } from '@material-ui/core'\r\nimport React, { useEffect } from 'react'\r\n// import { CardGroup, Col, Container, Row } from 'react-bootstrap'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport DataCard from '../DataCard/DataCard'\r\nimport css from './UserTopData.module.css'\r\n\r\nconst UserTopData: React.FC = () => {\r\n  const { userTopData, userInputSelect } = useTypedSelector(state => state.userData)\r\n\r\nreturn (\r\n  <React.Fragment>\r\n    {/* <Container maxWidth='md'> */}\r\n      <GridList cols={2} cellHeight={300} spacing={1} className={css.GridList}>\r\n        {userTopData && userTopData.map((artist: any, index: number) => (\r\n          <GridListTile key={index} cols={index === 0 ? 2 : 1} rows={1}>\r\n              <img className={css.ArtistImage} src={userInputSelect.type === 'artists' ? artist.images[0].url : artist.album.images[0].url}  alt={artist.name} />\r\n              <GridListTileBar\r\n              title={`${index + 1}. ${artist.name}`}\r\n              titlePosition=\"top\"\r\n              actionPosition=\"left\"\r\n              className={css.TitleBar}\r\n              /> \r\n              {/* <DataCard \r\n                key={index}\r\n                index={index}\r\n                name={artist.name} \r\n                src={userInputSelect.type === 'artists' ? artist.images[0].url : artist.album.images[0].url} \r\n                alt={artist.name}\r\n              /> */}\r\n        </GridListTile> \r\n        ))}\r\n      </GridList>\r\n    {/* </Container> */}\r\n  </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserTopData\r\n","import { Avatar, Button, InputLabel, MenuItem, Select } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useLoginActions, useUserDataActions } from '../../hooks/useActions'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\nimport Modal from '../UI/Modal/Modal'\r\nimport UserTopData from '../UserTopData/UserTopData'\r\nimport css from './Main.module.css'\r\n\r\nconst Main: React.FC = () => {\r\n  const [showingModal, setShowingModal] = useState(false)\r\n\r\n  const { userInputSelect, userTopData } = useTypedSelector(state => state.userData)\r\n  const { accessToken, userProfileInfo } = useTypedSelector(state => state.login)\r\n\r\n  const { getUserTopData, userInputSelected } = useUserDataActions()\r\n  const { getUserProfileInfo, userAuthorized } = useLoginActions()\r\n\r\n  const { display_name, images } = userProfileInfo\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLSelectElement>, inputChangedIs: string) => {\r\n    userInputSelected({\r\n      type: inputChangedIs === 'type' ? e.target.value : userInputSelect.type,\r\n      timeTerm: inputChangedIs === 'timeTerm' ? e.target.value : userInputSelect.timeTerm\r\n    })\r\n  }\r\n\r\n  // const handleSelectChange = (e: React.ChangeEvent<{ name?: string | undefined; value: unknown; }>, inputChangedIs: string) => {\r\n  //   userInputSelected({\r\n  //     type: inputChangedIs === 'type' ? e.target.value : userInputSelect.type,\r\n  //     timeTerm: inputChangedIs === 'timeTerm' ? e.target.value : userInputSelect.timeTerm\r\n  //   })\r\n  // }\r\n\r\n  useEffect(() => {\r\n    console.log(userInputSelect.type)\r\n    if (!accessToken) return\r\n    getUserProfileInfo()\r\n    getUserTopData(userInputSelect)\r\n  }, [accessToken, userInputSelect])\r\n\r\n  return (\r\n    userTopData.length ? \r\n    <React.Fragment>\r\n      \r\n      {/* {showingModal &&\r\n        <Modal>\r\n          <h3>Are you sure you want to log out?</h3>\r\n          <br/> \r\n          <Button onClick={() => userAuthorized(false)}>Yes</Button> \r\n          <Button onClick={() => setShowingModal(false)}>No</Button>\r\n        </Modal>} */}\r\n\r\n      <h4>{display_name}</h4>\r\n      <Avatar className={css.UserImage} src={images[0].url} alt={`${display_name} image`} />\r\n      <Button variant=\"contained\" onClick={() => userAuthorized(false)}>Log Out</Button>\r\n      <div className={css.GroupDiv}>\r\n        <div>\r\n          <label htmlFor=\"typeSelect\" >Get your top: </label>\r\n          <select value={userInputSelect.type} className={css.Select} name=\"type\" onChange={(e) => handleChange(e, e.target.name)}>\r\n              <option value=\"artists\">Artists</option>\r\n              <option value=\"tracks\">Tracks</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"timeTermSelect\" >From: </label>\r\n          <select value={userInputSelect.timeTerm} className={css.Select} name=\"timeTerm\" onChange={(e) => handleChange(e, e.target.name)}>\r\n              <option value=\"short_term\">This month</option>\r\n              <option value=\"medium_term\">6 months</option>\r\n              <option value=\"long_term\">All time</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      {/* <br />\r\n      <InputLabel htmlFor=\"type\">Get your top...</InputLabel>\r\n      <Select\r\n        name=\"type\"\r\n        value={userInputSelect.type}\r\n        onChange={(e) => handleSelectChange(e, e.target.name)}\r\n      >\r\n        <MenuItem value={\"artists\"}>Artists</MenuItem>\r\n        <MenuItem value={\"tracks\"}>Tracks</MenuItem>\r\n      </Select>\r\n      <br />\r\n      <InputLabel htmlFor=\"timeTerm\">From...</InputLabel>\r\n      <Select\r\n        name=\"timeTerm\"\r\n        value={userInputSelect.timeTerm}\r\n        onChange={(e) => handleSelectChange(e, e.target.name)}\r\n      >\r\n        <MenuItem value={\"short_term\"}>This month</MenuItem>\r\n        <MenuItem value={\"medium_term\"}>6 months</MenuItem>\r\n        <MenuItem value={\"long_term\"}>All time</MenuItem>\r\n      </Select>\r\n      <br /> */}\r\n      <UserTopData />\r\n    </React.Fragment> : null\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React, { useEffect } from 'react'\r\nimport css from './Layout.module.css'\r\nimport { useTypedSelector, } from '../../hooks/useTypedSelector'\r\nimport logo from \"../../assets/logos/01_RGB/02_PNG/Spotify_Logo_RGB_White.png\"\r\nimport Backdrop from '../UI/Backdrop/Backdrop'\r\nimport Spinner from '../../UI/Spinner/Spinner'\r\nimport { useLoginActions } from '../../hooks/useActions'\r\nimport getParams from '../../helpers/getParams'\r\nimport Main from '../Main/Main'\r\nimport { loginUri } from '../../api'\r\nimport { Button } from '@material-ui/core'\r\n\r\n// ELIMINAR\r\nimport { useDispatch } from 'react-redux';\r\nimport { testAction } from '../../state/action-creators/user-data-action-creators';\r\n\r\nconst Layout: React.FC = () => {\r\n  const { authCode, isLoggedIn,  } = useTypedSelector(state => state.login)\r\n  const { loading } = useTypedSelector(state => state.ui)\r\n  const { error } = useTypedSelector(state => state.error)\r\n\r\n  const { userAuthorized, authCodeObtained, getAccessToken } = useLoginActions()\r\n\r\n  \r\n  // ELIMINAR\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const code = getParams(window.location.href).code\r\n    if (!code || code === authCode) return\r\n    authCodeObtained(code)\r\n    getAccessToken()\r\n    userAuthorized(true)\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <main className={css.Container}>\r\n      <img\r\n        className={css.Logo}\r\n        src={logo}\r\n        alt=\"spotify-logo\"\r\n        />\r\n      {isLoggedIn  ?\r\n      \r\n      <React.Fragment>\r\n        <Backdrop show={loading}>\r\n          <Spinner />\r\n        </Backdrop>\r\n        {error && \r\n        <React.Fragment>\r\n          <p>{error}</p>\r\n          <Button variant=\"contained\" onClick={() => userAuthorized(false)}>Log Out</Button>\r\n        </React.Fragment>}\r\n        <Main />\r\n      </React.Fragment> :\r\n      <React.Fragment>\r\n        \r\n        <a className={css.Anchor} href={loginUri}>LOG IN WITH SPOTIFY</a>\r\n      </React.Fragment>}\r\n\r\n      {/* <button onClick={() => dispatch(testAction())}>Jeje mira este llama a la saga</button> */}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react';\nimport css from './App.module.css';\nimport Layout from './components/Layout/Layout';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nfunction App() {\n  return (\n    <div className={css.App}>\n      <BrowserRouter>\n        <Layout />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserImage\":\"Main_UserImage__3qxFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerAbsolute\":\"Layout_ContainerAbsolute__GVuZd\",\"Container\":\"Layout_Container__BQf6m\",\"Loader\":\"Layout_Loader__1uyud\",\"Logo\":\"Layout_Logo__1vjZI\",\"Anchor\":\"Layout_Anchor__16oze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TitleBar\":\"UserTopData_TitleBar__3Y7Do\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1B3w2\",\"Anchor\":\"App_Anchor__1EPTJ\",\"Logo\":\"App_Logo__TfFJ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3Q11w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__3GTOq\",\"spinner\":\"Spinner_spinner__s3qqN\"};"],"sourceRoot":""}